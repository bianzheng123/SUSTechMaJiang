# 服务端

## LoginMsg:

登陆时发送的协议，传输帐号、密码等信息。

服务端中的相应Handler会连接数据库，检测这些信息是否合法。

如不合法，提示登陆失败。

如点击的是注册按钮，会把当前帐号加入数据库。

## SysMsg:

检测延迟的协议，会检测客户端是否能够响应。

## BattleMsg:

在对局中玩家进行每一步操作（出牌、吃碰杠等）时，对整个棋局的情况进行改变。

包括自动发牌的逻辑。

## RoomMsg:

## ResultMsg:

游戏结束时对积分、排名等信息进行结算。

# NetManager

starloop开始工作。

不断监听信息，如超时未收到消息会进行延迟检测。

填充checkRead列表。

消息分发。

收取客户端信息。

处理信息。

# 多态

MsgBase作为协议的父类，其子类是具体的协议类型。

# 客户端

待完善



# 我们在哪个类，文件中编程

![1570757293833](C:\Users\PC\AppData\Roaming\Typora\typora-user-images\1570757293833.png)

上图是服务端、客户端在接受相应协议时进行对应的处理的各个类。

![1570757412263](C:\Users\PC\AppData\Roaming\Typora\typora-user-images\1570757412263.png)

上图是用来定义具体协议中的变量等信息的类。



